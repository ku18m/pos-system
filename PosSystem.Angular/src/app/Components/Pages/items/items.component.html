<div class="rounded bg-light company">
    <h2>Items Form</h2>
    <form [formGroup]="itemForm">
        <div class="input">
            <label>Company Name:</label>
            <select  class="form-control dropdown-toggle"  data-bs-toggle="dropdown" formControlName="companyName" [(ngModel)]="companyName" (change)="ChangeType()">
                <option disabled selected>-- Choose From Companies --</option>
                @for(company of companyList; track $index){
                    <option>{{company.name}}</option>
                }
            </select>
        </div>
        <div class="text-danger ms-3">{{companyNameRequiredError}}</div>
        <div class="input">
            <label class="type">Type Name:</label>
            <select  class="form-control dropdown-toggle type-input"  data-bs-toggle="dropdown" formControlName="typeName" [(ngModel)]="typeName" >
                <option disabled selected>-- Choose From Types --</option>
                @for(type of typeList ;track $index){
                    @if(type.companyName==companyName){
                        <option>{{type.name}}</option>
                    }
                    
                }
            </select>
        </div>
        <div class="text-danger ms-3">{{typeNameRequiredError}}</div>
        <div class="input">
            <label class="type">Item Name:</label>
            <input type="text" class="form-control type-input" formControlName="name" [(ngModel)]="itemName"/>
        </div>
        <div class="text-danger ms-3">{{itemNameRequiredError}}</div>
        <div class="text-danger ms-3">{{itemNameDuplicateError}}</div>
        <div class="input">
            <label class="selling">Selling Price:</label>
            <input type="text" class="form-control selling-input" formControlName="sellingPrice" [(ngModel)]="sellingPrice"/>
        </div>
        <div class="text-danger ms-3">{{sellingError}}</div>
        <div class="input">
            <label class="selling">Buying Price:</label>
            <input type="text" class="form-control selling-input" formControlName="buyingPrice" [(ngModel)]="buyingPrice"/>
        </div>
        <div class="text-danger ms-3">{{buyingError}}</div>
        <div class="text-danger ms-3">{{buyGreaterThanSellError}}</div>
        <div class="input">
            <label class="quantity">Quantity:</label>
            <input type="text" class="form-control quantity-input" formControlName="quantity" [(ngModel)]="quantity"/>
        </div>
        <div class="input input-notes">
            <label class="notes">notes:</label>
            <textarea cols="20" rows="3" class="form-control" formControlName="notes" [(ngModel)]="notes"></textarea>
        </div>
        <div class="button">
            <button (click)="Submit($event)" class=" bg-success rounded text-light save"><i class="bi bi-floppy text-light m-1"></i>Save</button>
            <button (click)="Cancel()" class=" bg-danger rounded text-light"><i class="bi bi-trash3 text-light"></i>Cancel</button>
        </div>
    </form>
</div>
<div class="clear"></div>

